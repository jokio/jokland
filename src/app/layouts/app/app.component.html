<ion-app>
  <header
    class="ion-padding-horizontal"
    [class.separatorLine]="!hideSeparatorLine"
  >
    <ion-toolbar>
      <div class="ion-text-center logo" slot="start">
        <ion-icon src="/assets/joklogo.svg"></ion-icon>
      </div>

      <ion-segment
        class="desktopScreen"
        color="secondary"
        [value]="selectedTab"
        (ionChange)="onTabChange($event)"
      >
        <ion-segment-button
          value="avatar"
          routerLinkActive="segment-button-checked"
          routerLink="/avatar"
        >
          <ion-label>Avatar</ion-label>
        </ion-segment-button>
        <ion-segment-button
          value="packs"
          routerLinkActive="segment-button-checked"
          routerLink="/packs"
        >
          <ion-label>Packs</ion-label>
        </ion-segment-button>
        <ion-segment-button
          value="roadmap"
          routerLinkActive="segment-button-checked"
          routerLink="/roadmap"
        >
          <ion-label>Roadmap</ion-label>
        </ion-segment-button>
        <ion-segment-button
          value="games"
          routerLinkActive="segment-button-checked"
          routerLink="/games"
        >
          <ion-label>Games</ion-label>
        </ion-segment-button>
      </ion-segment>

      <div slot="end" class="ion-text-center actions">
        <ng-container *ngIf="userAddress; else ConnectView">
          <ion-button
            color="secondary"
            size="small"
            class="userProfileButton"
            (click)="selectAddress()"
          >
            <span class="balance"> {{ userBalance }}Îž </span>
            {{ userENS || userDisplayAddress }}
            <span class="chain"> [{{ chainName }}] </span>
          </ion-button>

          <div class="avatar">
            <img
              src="https://server.jok.io/avatar/5d7d29b6c8178f001c1b3d8f?ignore=1643140800258"
            />
          </div>
        </ng-container>

        <ng-template #ConnectView>
          <ion-button
            color="secondary"
            size="small"
            (click)="connect()"
          >
            Connect Wallet
          </ion-button>
          <ion-button id="menuButton" color="secondary" size="small">
            ...
          </ion-button>
        </ng-template>

        <ion-popover trigger="menuButton">
          <ng-template>
            <ion-content color="light">
              <ion-list>
                <!-- <ion-item
                  color="light"
                  [button]="true"
                  [detailIcon]="false"
                  (click)="openAbout()"
                >
                  <ion-icon
                    name="information-circle-outline"
                    slot="start"
                  ></ion-icon>
                  <ion-label>About</ion-label>
                </ion-item> -->
                <ion-item
                  color="light"
                  href="https://github.com/jokio"
                  target="_blank"
                  detailIcon="open-outline"
                >
                  <ion-icon
                    name="logo-github"
                    slot="start"
                  ></ion-icon>
                  <ion-label>Github</ion-label>
                </ion-item>
                <ion-item
                  color="light"
                  href="https://discord.gg/dV5ymCYWBG"
                  target="_blank"
                  detailIcon="open-outline"
                >
                  <ion-icon
                    name="logo-discord"
                    slot="start"
                  ></ion-icon>
                  <ion-label>Discord</ion-label>
                </ion-item>
                <!-- <ion-item color="light">
                  <ion-label>Credits</ion-label>
                </ion-item> -->
              </ion-list>
            </ion-content>
          </ng-template>
        </ion-popover>
      </div>
    </ion-toolbar>
  </header>
  <ion-content [scrollEvents]="true" (ionScroll)="onScroll($event)">
    <router-outlet></router-outlet>
  </ion-content>

  <ion-segment
    class="mobileScreen"
    color="secondary"
    [value]="selectedTab"
    (ionChange)="onTabChange($event)"
  >
    <ion-segment-button
      value="avatar"
      routerLinkActive="segment-button-checked"
      routerLink="/avatar"
    >
      <ion-label>Avatar</ion-label>
    </ion-segment-button>
    <ion-segment-button
      value="packs"
      routerLinkActive="segment-button-checked"
      routerLink="/packs"
    >
      <ion-label>Packs</ion-label>
    </ion-segment-button>
    <ion-segment-button
      value="roadmap"
      routerLinkActive="segment-button-checked"
      routerLink="/roadmap"
    >
      <ion-label>Roadmap</ion-label>
    </ion-segment-button>
    <ion-segment-button
      value="games"
      routerLinkActive="segment-button-checked"
      routerLink="/games"
    >
      <ion-label>Games</ion-label>
    </ion-segment-button>
  </ion-segment>
</ion-app>
